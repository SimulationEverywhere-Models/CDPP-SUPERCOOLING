#BeginMacro(isSolid)
(0,0) >= 0.98 
#EndMacro

#BeginMacro(isSolution)
((0,0) < 1) AND ( ((-1,0) < 1) AND  ((0,-1) < 1) AND  ((0,1)< 1)  AND ((1,0) < 1) )
#EndMacro

#BeginMacro(isNearSolid)
((0,0) < 1) AND ( ((-1,0) >= 1) OR ((0,-1) >= 1) OR  ((0,1) >= 1)  OR ((1,0) >= 1) )
#EndMacro

#BeginMacro(diffusionSolution)
(1/8)*( (-4*(0,0)) + ( if( ((-1,0) < 1) AND ( ((-2,0) >= 1) OR ((-1,-1) >= 1) OR  ((-1,1) >= 1)  OR ((0,0) >= 1) ),0,(-1,0)) + if(((0,-1) < 1) AND ( ((0,-2) >= 1) OR ((-1,-1) >= 1) OR  ((0,0) >= 1)  OR ((1,-1) >= 1) ),0,(0,-1)) + if(((0,1) < 1) AND ( ((0,0) >= 1) OR ((-1,1) >= 1) OR  ((0,2) >= 1)  OR ((1,1) >= 1) ),0,(0,1)) + if(((1,0) < 1) AND ( ((0,0) >= 1) OR ((1,-1) >= 1) OR  ((2,0) >= 1)  OR ((1,1) >= 1) ),0,(1,0))) )
#EndMacro

#BeginMacro(diffusionNearSolid)
0.0001 + ((1/8)*( (-4*(0,0)) + (if(((-1,0) < 1) AND ( ((-2,0) >= 1) OR ((-1,-1) >= 1) OR  ((-1,1) >= 1)  OR ((0,0) >= 1) ),0,(-1,0)) + if(((0,-1) < 1) AND ( ((0,-2) >= 1) OR ((-1,-1) >= 1) OR  ((0,0) >= 1)  OR ((1,-1) >= 1) ),0,(0,-1)) + if(((0,1) < 1) AND ( ((0,0) >= 1) OR ((-1,1) >= 1) OR  ((0,2) >= 1)  OR ((1,1) >= 1) ),0,(0,1)) + if(((1,0) < 1) AND ( ((0,0) >= 1) OR ((1,-1) >= 1) OR  ((2,0) >= 1)  OR ((1,1) >= 1) ),0,(1,0))) ))
#EndMacro

